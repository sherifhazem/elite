{% extends "members/auth/base_auth.html" %}
{% block title %}تسجيل الدخول إلى ELITE{% endblock %}

{% block content %}
<div class="auth-shell">
  <div class="auth-card">
    <div class="auth-card__header">
      <div class="auth-icon">
        <i class="fa-solid fa-right-to-bracket fa-3x"></i>
      </div>
      <h2 class="auth-title">تسجيل الدخول</h2>
      <p class="auth-subtitle">مرحبًا بعودتك إلى ELITE.</p>
    </div>

    <div class="auth-card__body">
      <form id="login-form" novalidate data-success-redirect="{{ url_for('portal.member_portal_home') }}">
        <div class="auth-field">
          <label for="login-email" class="auth-field__label">البريد الإلكتروني</label>
          <div class="auth-field__input">
            <input type="email" id="login-email" name="email" class="form-control auth-input"
              placeholder="بريدك الإلكتروني" autocomplete="email" dir="ltr" required />
          </div>
        </div>

        <div class="auth-field">
          <label for="login-password" class="auth-field__label">كلمة المرور</label>
          <div class="auth-field__input">
            <input type="password" id="login-password" name="password" class="form-control auth-input"
              placeholder="••••••••" autocomplete="current-password" dir="ltr" required />
          </div>
        </div>

        <div id="login-error" class="text-danger small mb-3" role="alert"></div>


        <a href="{{ url_for('auth.forgot_password') }}" class="ghost-button ghost-button--small auth-ghost">
          هل نسيت كلمة المرور؟
        </a>

        <button type="submit" id="login-submit" class="btn btn-gradient w-100 py-2 mt-3">
          تسجيل الدخول
        </button>

        <div class="auth-footer mt-4">
          <span class="auth-muted">ليس لديك حساب بعد؟</span>
          <a href="{{ url_for('auth.register_choice') }}" class="ghost-button ghost-button--small auth-ghost">
            أنشئ حسابًا جديدًا
          </a>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="toast-banner" id="login-toast" role="status" aria-live="polite">
  <div class="me-2"><i class="fa-solid fa-check fa-lg"></i></div>
  <span id="login-toast-message">تم تسجيل الدخول بنجاح! جاري تحويلك...</span>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='members/js/auth_login_form.js') }}" defer></script>
{% endblock %}