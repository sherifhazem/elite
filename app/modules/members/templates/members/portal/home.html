<!-- LINKED: Standardized conditional access checks across templates using current_user-based logic. -->
<!-- FIXED: Mobile-First User Portal Design (Member-Only) -->
<!-- UI SYNC: Offer design unified across Home and Offers views -->
{% extends 'members/portal/base.html' %}
{% block title %}الرئيسية · ELITE{% endblock %}
{% from 'members/portal/components/offer_card_macro.html' import render_offer_card %}
{% block page_heading %}الرئيسية{% endblock %}
{% block content %}
<section class="home-intro">
    <h1 class="home-intro__title">العروض</h1>
    <div class="home-search" role="search">
        <label class="visually-hidden" for="home-search-input">البحث</label>
        <input class="home-search__input" id="home-search-input" type="search" name="q"
            placeholder="ابحث باسم الشريك أو التصنيف" autocomplete="off" />
    </div>
</section>
<section class="home-section">
    <div class="section-headline">
        <h2 class="section-headline__title">عروض مختارة</h2>
        <button class="section-headline__link" type="button" data-nav-link data-nav-target="offers"
            data-route="{{ url_for('portal.member_portal_offers') }}">
            عرض الكل
        </button>
    </div>
    <div class="featured-grid">
        {% set featured_offers = featured_offers | default([]) %}
        {% if featured_offers %}
        {% for offer in featured_offers %}
        {{ render_offer_card(offer) }}
        {% endfor %}
        {% else %}
        <article class="offer-card offer-card--placeholder">
            <h3 class="offer-card__title">سنقترح عروضاً بمجرد تسجيل الدخول</h3>
            <p class="offer-card__company">تابعنا يومياً للحصول على تحديثات جديدة.</p>
        </article>
        {% endif %}
    </div>
</section>
<section class="home-section">
    <p class="text-muted">عروض حصرية للأعضاء النشطين</p>
</section>
{% endblock %}